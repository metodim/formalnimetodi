# Specification
SPEC = _deliver.accept.SPEC

#Implementation
ABP = (S|T|R|A)\{send0,send1,receive0,receive1,reply0,reply1,ack0,ack1}
S = _send0.S + ack0.accept.S1 + ack1.S
S1 = _send1.S1 + ack1.accept.S + ack0.S1
T = send0.(T+T1) + send1.(T+T2)
T1 = _receive0.(T+T1)
T2 = _receive1.(T+T2)
R = receive0._deliver.R1 + _reply1.R + receive1.R
R1 = receive1._deliver.R + _reply0.R1 + receive0.R1
A = reply0.(A+A1) + reply1.(A+A2)
A1 = _ack0.(A+A1)
A2 = _ack1.(A+A2)


# Simple Version
I = (S|R)\{send0, send1, reply0, reply1}
S = _send0.S + reply0.accept.S1 + reply1.S
S1 = _send1.S1 + reply1.accept.S + reply0.S1
R = send0._deliver.R1 + _reply1.R + send1.R
R1 = send1._deliver.R + _reply0.R1 + send0.R1

